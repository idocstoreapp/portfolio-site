# ğŸ¯ CÃ“MO CREAR ORDEN DESDE DIAGNÃ“STICO - GUÃA RÃPIDA

## âœ… PROBLEMAS CORREGIDOS

1. âœ… **Import de CostosReales agregado** - Ya no deberÃ­a dar error
2. âœ… **BotÃ³n visible desde "Cotizando"** - Ya no necesitas cambiar a "Proyecto" primero
3. âœ… **Botones separados** - MÃ¡s claros y fÃ¡ciles de encontrar

---

## ğŸ“ DÃ“NDE ENCONTRAR EL BOTÃ“N

### Paso 1: Ve a DiagnÃ³sticos

```
Admin Panel â†’ DiagnÃ³sticos (en el sidebar)
```

### Paso 2: Abre un DiagnÃ³stico

```
Click en cualquier diagnÃ³stico de la lista
```

### Paso 3: Busca el BotÃ³n Verde

**El botÃ³n aparece cuando el estado es:**
- âœ… **"Cotizando"** â† RECOMENDADO: Crea la orden aquÃ­
- âœ… **"Proyecto"**
- âœ… **"Cerrado"**

**UbicaciÃ³n del botÃ³n:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Detalle del DiagnÃ³stico            â”‚
â”‚                                     â”‚
â”‚  [Formulario de gestiÃ³n]            â”‚
â”‚                                     â”‚
â”‚  Botones:                           â”‚
â”‚  [Guardar Cambios]                  â”‚
â”‚  [ğŸ“‹ Crear Orden desde DiagnÃ³stico] â† AQUÃ (botÃ³n verde)
â”‚                                     â”‚
â”‚  (Si estÃ¡ en "Proyecto" tambiÃ©n verÃ¡s)â”‚
â”‚  [ğŸ“„ Generar Orden PDF]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ CÃ“MO USARLO - PASO A PASO

### Paso 1: Cambia el Estado a "Cotizando"

1. En el detalle del diagnÃ³stico
2. Busca el campo **"Estado"**
3. Selecciona **"Cotizando"** del dropdown
4. Click en **"Guardar Cambios"**

**Resultado:** Ahora verÃ¡s el botÃ³n verde **"ğŸ“‹ Crear Orden desde DiagnÃ³stico"**

---

### Paso 2: Click en el BotÃ³n

```
Click en: [ğŸ“‹ Crear Orden desde DiagnÃ³stico]
```

**Resultado:** Se abre un modal grande con el formulario

---

### Paso 3: Selecciona Template de SoluciÃ³n

**En el modal:**

1. Busca el campo **"Template de SoluciÃ³n"**
2. Click en el dropdown
3. Selecciona un template:
   - Sistema para Restaurantes
   - Sistema para Servicio TÃ©cnico
   - Sistema para Taller MecÃ¡nico
   - Sistema Cotizador / FÃ¡brica
   - Sistema para Comercio
   - Sistema para Servicios Profesionales

**Ejemplo:** Selecciona "Sistema para Restaurantes"

**Resultado:** 
- âœ… Se cargan automÃ¡ticamente los mÃ³dulos disponibles
- âœ… Se establece el precio base del template
- âœ… Los mÃ³dulos requeridos se marcan automÃ¡ticamente

---

### Paso 4: Selecciona MÃ³dulos

**VerÃ¡s una lista de mÃ³dulos con checkboxes:**

```
â˜‘ MenÃº QR Digital (Requerido) - $150,000 CLP
â˜‘ GestiÃ³n de Mesas - $100,000 CLP
â˜‘ Sistema de Pedidos - $200,000 CLP
â˜ Marketing Digital - $50,000 CLP
```

**QuÃ© hacer:**
- âœ… Los mÃ³dulos **requeridos** ya vienen marcados (no puedes desmarcarlos)
- â˜ Marca los mÃ³dulos **opcionales** que quieras incluir
- â˜ Desmarca los que **NO** quieras incluir

**Ejemplo:**
- Si el cliente NO quiere Marketing Digital â†’ DesmÃ¡rcalo
- Si quiere todo lo demÃ¡s â†’ DÃ©jalo marcado

---

### Paso 5: Ajusta Precios (Opcional)

**Campos disponibles:**

1. **Ajustes Personalizados:**
   - Si hay algo extra que no estÃ¡ en los mÃ³dulos
   - Ejemplo: $50,000 por diseÃ±o personalizado

2. **Descuento:**
   - Si quieres aplicar un descuento
   - Ejemplo: $100,000 de descuento

**El total se calcula automÃ¡ticamente:**
```
Precio Base: $500,000
+ MÃ³dulos: $350,000
+ Ajustes: $50,000
- Descuento: $0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL: $900,000 CLP
```

---

### Paso 6: Completa TÃ©rminos

**TÃ©rminos de Pago:**
```
Ejemplo: "50% al inicio del proyecto, 50% al finalizar"
```

**CaracterÃ­sticas Personalizadas (Opcional):**
```
Ejemplo: "DiseÃ±o personalizado segÃºn marca del restaurante"
```

**Click en "Crear Orden"**

---

### Paso 7: Â¡Listo!

**Resultado:**
- âœ… Orden creada con nÃºmero Ãºnico (ej: ORD-2024-001)
- âœ… RedirecciÃ³n automÃ¡tica al detalle de la orden
- âœ… Puedes ver toda la informaciÃ³n de la orden
- âœ… Puedes generar PDFs (prÃ³ximamente)

---

## ğŸ¨ VISTA VISUAL DEL MODAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Crear Orden desde DiagnÃ³stico        [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  ğŸ“‹ InformaciÃ³n del DiagnÃ³stico:           â”‚
â”‚  Cliente: Gourmet Ãrabe                    â”‚
â”‚  Tipo: Restaurante                         â”‚
â”‚                                             â”‚
â”‚  ğŸ¯ Template de SoluciÃ³n: *                â”‚
â”‚  [Sistema para Restaurantes â–¼]             â”‚
â”‚                                             â”‚
â”‚  ğŸ“¦ MÃ³dulos a Incluir:                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â˜‘ MenÃº QR Digital (Requerido)       â”‚  â”‚
â”‚  â”‚    $150,000 CLP                      â”‚  â”‚
â”‚  â”‚ â˜‘ GestiÃ³n de Mesas                  â”‚  â”‚
â”‚  â”‚    $100,000 CLP                      â”‚  â”‚
â”‚  â”‚ â˜‘ Sistema de Pedidos                â”‚  â”‚
â”‚  â”‚    $200,000 CLP                      â”‚  â”‚
â”‚  â”‚ â˜ Marketing Digital                  â”‚  â”‚
â”‚  â”‚    $50,000 CLP                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  ğŸ’° Ajustes de Precio:                     â”‚
â”‚  Ajustes: [$50,000]                        â”‚
â”‚  Descuento: [$0]                           â”‚
â”‚                                             â”‚
â”‚  ğŸ“ TÃ©rminos de Pago:                      â”‚
â”‚  [50% al inicio, 50% al finalizar...]     â”‚
â”‚                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  [Cancelar]              [Crear Orden]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â“ PREGUNTAS FRECUENTES

### Â¿Por quÃ© no veo el botÃ³n?

**Posibles razones:**
1. El estado del diagnÃ³stico es "Nuevo" o "Contactado"
   - **SoluciÃ³n:** Cambia el estado a "Cotizando" o superior

2. No has guardado los cambios despuÃ©s de cambiar el estado
   - **SoluciÃ³n:** Click en "Guardar Cambios" primero

3. Error de carga de la pÃ¡gina
   - **SoluciÃ³n:** Recarga la pÃ¡gina (F5)

---

### Â¿QuÃ© pasa si selecciono un template pero no veo mÃ³dulos?

**Posibles razones:**
1. El template no tiene mÃ³dulos configurados
   - **SoluciÃ³n:** Verifica en Supabase que el template tenga mÃ³dulos

2. Error al cargar mÃ³dulos
   - **SoluciÃ³n:** Revisa la consola del navegador (F12) para ver errores

---

### Â¿Puedo crear la orden sin seleccionar template?

**No.** El template es obligatorio porque:
- Define el precio base
- Carga los mÃ³dulos disponibles
- Estructura la orden

**Si no hay template adecuado:**
- Crea uno nuevo en Supabase, o
- Usa "Nueva Orden Manual" en lugar de crear desde diagnÃ³stico

---

### Â¿QuÃ© diferencia hay entre "Crear Orden desde DiagnÃ³stico" y "Nueva Orden Manual"?

**Crear Orden desde DiagnÃ³stico:**
- âœ… InformaciÃ³n del cliente pre-cargada
- âœ… Vinculada al diagnÃ³stico original
- âœ… MÃ¡s rÃ¡pido
- âœ… Trazabilidad completa

**Nueva Orden Manual:**
- âœ… MÃ¡s control sobre todos los campos
- âœ… Ãštil si el cliente no pasÃ³ por diagnÃ³stico
- âœ… Puedes crear desde cero

---

## ğŸ¯ RESUMEN RÃPIDO

1. **Ve a DiagnÃ³sticos** â†’ Abre un diagnÃ³stico
2. **Cambia estado a "Cotizando"** â†’ Guarda cambios
3. **Click en botÃ³n verde** â†’ "ğŸ“‹ Crear Orden desde DiagnÃ³stico"
4. **Selecciona template** â†’ Elige uno de la lista
5. **Marca mÃ³dulos** â†’ Los que quieras incluir
6. **Ajusta precios** â†’ Si es necesario
7. **Completa tÃ©rminos** â†’ TÃ©rminos de pago
8. **Click "Crear Orden"** â†’ Â¡Listo!

---

**Â¡Ahora deberÃ­as poder crear Ã³rdenes sin problemas!** ğŸš€
