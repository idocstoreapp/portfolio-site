---
import '../styles/global.css';
import '../styles/base.css';
import '../styles/enhanced.css';
import Header from '../components/Header.astro';
import FooterPremium from '../components/FooterPremium.astro';

// SEO props
export interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonical?: string;
  theme?: string;
}

const { 
  title = "Desarrollador Web Freelance | Portafolio",
  description = "Desarrollador web freelance especializado en sitios web modernos, landing pages y aplicaciones web. Servicios de desarrollo frontend, responsive design y optimización SEO.",
  image = "/og-image.jpg",
  canonical = Astro.url.href,
  theme = "default"
} = Astro.props;
---
<html lang="es" data-theme={theme}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />
    <meta name="keywords" content="diseñador web, diseñador de páginas web, diseño de app web, diseño de marca, diseño de logo, diseño, creación de imágenes, menús QR para restaurantes, menú QR, sistemas de gestión, desarrollador web, programador, freelance, frontend, react, astro, tailwind css, landing page, sitio web, e-commerce, tienda online, automatizaciones, aplicaciones web, diseño UI/UX, optimización SEO" />
    <meta name="author" content="Jonathan Guarirapa" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <link rel="canonical" href={canonical} />
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="CL" />
    <meta name="geo.placename" content="Chile" />
    
    <!-- Language -->
    <meta http-equiv="content-language" content="es" />
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="VYvGhHatnOJBQFEKVF9f3F4NEYr1M3F1b5gcHQPvnuA" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/images/logo-solo.png" />
    <link rel="apple-touch-icon" href="/images/logo-solo.png" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonical} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(image, Astro.url)} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Tu Nombre - Desarrollador Web" />
    <meta property="og:locale" content="es_ES" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={canonical} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={new URL(image, Astro.url)} />
    <meta property="twitter:creator" content="@tuusuario" />
    
    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#0f172a" />
    <meta name="color-scheme" content="dark" />
    <meta name="format-detection" content="telephone=no" />
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Jonathan Guarirapa",
      "jobTitle": "Desarrollador Web y Diseñador",
      "description": description,
      "url": canonical,
      "image": new URL(image, Astro.url).href,
              "email": "jona.develp@gmail.com",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Santiago de Chile",
        "addressCountry": "CL"
      },
      "sameAs": [
        "https://github.com/jonadevel",
        "https://linkedin.com/in/jonathan-guarirapa"
      ],
      "knowsAbout": [
        "Desarrollo Web",
        "Diseño de Páginas Web",
        "Diseño de Apps Web",
        "Diseño de Marca",
        "Diseño de Logo",
        "Creación de Imágenes",
        "Menús QR para Restaurantes",
        "Sistemas de Gestión",
        "Programación",
        "Frontend Development",
        "UI/UX Design"
      ],
      "offers": {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "serviceType": "Desarrollo Web Profesional",
          "description": "Servicios de desarrollo web, diseño de páginas web, aplicaciones web, diseño de marca y sistemas de gestión"
        }
      }
    })} />
  <body class="text-white antialiased min-h-screen" style="background: var(--bg-primary); background-attachment: fixed;">
    <Header />
    <main>
      <slot />
    </main>
    <FooterPremium />
  </body>
  <script>
    import { enableButtonRipple, revealOnScroll, applyStagger } from '../scripts/motion.js';
    import { enableTilt } from '../scripts/tilt.js';
    enableButtonRipple(); revealOnScroll(); applyStagger(); enableTilt();
  </script>
</html>
