---
import Layout from '../layouts/Layout.astro';
import HeroPremium from '../components/HeroPremium.astro';
import ConversationalDiagnosticWizard from '../components/ConversationalDiagnosticWizard.astro';
import ProjectsCarousel from '../components/ProjectsCarousel.astro';
import SuccessCaseCard from '../components/SuccessCaseCard.astro';
import TestimonialCardPremium from '../components/TestimonialCardPremium.astro';
import { getCollection } from 'astro:content';

// Get featured projects for the homepage
const allProjects = await getCollection('projects');
const featuredProjects = allProjects
  .filter(project => project.data.featured)
  .sort((a, b) => b.data.order - a.data.order)
  .slice(0, 4);

// Projects for carousel - using JPG images for carousel
const carouselProjects = [
  {
    title: 'Muebler√≠a Casa Blanca',
    image: '/images/webs/muebleria1.jpeg',
    category: 'web' as const,
    liveUrl: 'https://mueblericacasablanca.cl',
    githubUrl: 'https://github.com/idocstoreapp/redise-o-muebleriacasablanca',
    slug: 'muebleria-casa-blanca'
  },
  {
    title: 'Kubica Mobiliario',
    image: '/images/webs/mobiliario.jpeg',
    category: 'web' as const,
    liveUrl: 'https://kubicamobiliario.cl',
    githubUrl: 'https://github.com/idocstoreapp/nuevo-proyecto',
    slug: 'kubica-mobiliario'
  },
  {
    title: 'Gourmet √Årabe - Men√∫ QR',
    image: '/images/menuqr/mockup-arabe.png',
    category: 'menu-qr' as const,
    liveUrl: 'https://sistema-restaurant-seven.vercel.app/',
    githubUrl: 'https://github.com/idocstoreapp/sistema-restaurant',
    slug: 'gourmet-arabe'
  },
  {
    title: 'Sistema de Reparaciones',
    image: '/images/sistemas/idocstore1.png',
    category: 'sistema' as const,
    liveUrl: 'https://sistema-reparaciones.vercel.app',
    githubUrl: 'https://github.com/idocstoreapp/sistema-reparaciones',
    slug: 'sistema-reparaciones'
  },
  {
    title: 'Muebler√≠a Cotizador',
    image: '/images/sistemas/cotizador1.png',
    category: 'sistema' as const,
    liveUrl: '#',
    githubUrl: '#',
    slug: 'muebleria-cotizador'
  }
];

// Testimonials data - Comentarios simulados de empresas reales
const testimonials = [
  {
    name: "Mohamed Hassan",
    role: "Due√±o",
    company: "Gourmet √Årabe",
    rating: 5,
    text: "El sistema cambi√≥ completamente nuestra operaci√≥n. Antes perd√≠amos √≥rdenes constantemente y gast√°bamos mucho en imprimir men√∫s cada vez que cambi√°bamos un precio. Ahora todo es digital, los clientes escanean el QR y hacen su pedido directamente. Ahorramos 3-4 horas diarias y nunca m√°s perdimos una orden.",
    avatar: "üë®‚Äçüíº"
  },
  {
    name: "Carlos Mendoza",
    role: "Gerente General",
    company: "IDoc Store",
    rating: 5,
    text: "Antes ten√≠amos todo en papel y cuadernos. Perd√≠amos √≥rdenes, no sab√≠amos qu√© repuestos ten√≠amos y calcular las comisiones de los t√©cnicos era un dolor de cabeza. Con el sistema ahora todo est√° organizado, encontramos cualquier orden en segundos y el sistema calcula autom√°ticamente los pagos y comisiones. La productividad aument√≥ significativamente.",
    avatar: "üë®‚Äçüíº"
  },
  {
    name: "Patricio Kubica",
    role: "Director",
    company: "Kubica Mobiliario",
    rating: 5,
    text: "Necesit√°bamos una p√°gina web profesional y un sistema para cotizar nuestros muebles personalizados. El sistema que desarrollaron nos ahorra 43 minutos por cotizaci√≥n. Antes tard√°bamos casi una hora en hacer una cotizaci√≥n manual, ahora la hacemos en 5 minutos. La p√°gina web tambi√©n nos ha tra√≠do muchos m√°s clientes.",
    avatar: "üë®‚Äçüíº"
  },
  {
    name: "Mar√≠a Gonz√°lez",
    role: "Due√±a",
    company: "Muebler√≠a Cotizador",
    rating: 5,
    text: "Antes cotiz√°bamos a ojo y perd√≠amos dinero en muchos proyectos. No sab√≠amos cu√°nto costaba realmente hacer cada mueble. Con el sistema ahora calculamos los costos reales autom√°ticamente y cotizamos con precisi√≥n. Nuestras ganancias aumentaron porque ya no perdemos dinero en proyectos mal cotizados.",
    avatar: "üë©‚Äçüíº"
  }
];

// Success cases data - Proyectos reales
const successCases = [
  {
    icon: "üçΩÔ∏è",
    title: "Gourmet √Årabe",
    problem: "Men√∫ impreso que se desactualizaba constantemente y p√©rdida de √≥rdenes entre papelitos y WhatsApp",
    solution: "Men√∫ digital con c√≥digo QR + Sistema de gesti√≥n de mesas y pedidos (POS) completo",
    result: "Reducci√≥n de costos de impresi√≥n, cero p√©rdida de √≥rdenes y ahorro de 3-4 horas diarias",
    gradient: "primary" as const,
    image: "/images/menuqr/mockup-arabe.png",
    link: "/projects/gourmet-arabe"
  },
  {
    icon: "üîß",
    title: "IDoc Store",
    problem: "Servicio t√©cnico con √≥rdenes en papel, sin control de inventario y p√©rdida de informaci√≥n de clientes",
    solution: "Sistema de gesti√≥n de √≥rdenes de clientes + Sistema de gesti√≥n de pagos y comisiones para empleados",
    result: "Organizaci√≥n total, aumento de productividad y control completo de pagos y comisiones",
    gradient: "secondary" as const,
    image: "/images/sistemas/idocstore-hero.png",
    link: "/projects/sistema-reparaciones"
  },
  {
    icon: "üè™",
    title: "Kubica Mobiliario",
    problem: "Necesidad de presencia web profesional y sistema para cotizar muebles personalizados con precisi√≥n",
    solution: "P√°gina web moderna + Sistema cotizador con c√°lculo autom√°tico de costos",
    result: "Presencia digital profesional y proceso de cotizaci√≥n eficiente que ahorra 43 minutos por cotizaci√≥n",
    gradient: "tertiary" as const,
    image: "/images/webs/muebleria1.png",
    link: "/projects/kubica-mobiliario"
  }
];
---

<Layout 
  title="Dise√±ador Web y Programador | Jonathan Guarirapa - Desarrollo Web, Apps y Automatizaciones"
  description="Dise√±ador web profesional especializado en dise√±o de p√°ginas web, apps web, dise√±o de marca, logos, men√∫s QR para restaurantes y sistemas de gesti√≥n. Desarrollo web con resultados medibles."
  image="/jonadevel.jpg"
>
  <!-- Structured Data for Homepage -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Jonathan Guarirapa - Dise√±ador Web y Programador",
    "url": Astro.url.origin,
    "description": "Dise√±ador web profesional especializado en dise√±o de p√°ginas web, apps web, dise√±o de marca, logos, men√∫s QR para restaurantes y sistemas de gesti√≥n",
    "author": {
      "@type": "Person",
      "name": "Jonathan Guarirapa",
      "email": "jona.develp@gmail.com"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": Astro.url.origin + "/proyectos?q={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    },
    "mainEntity": {
      "@type": "Person",
      "name": "Jonathan Guarirapa",
      "jobTitle": "Dise√±ador Web y Programador",
      "description": "Especialista en dise√±o de p√°ginas web, dise√±o de apps web, dise√±o de marca, dise√±o de logos, creaci√≥n de im√°genes, men√∫s QR para restaurantes y sistemas de gesti√≥n",
      "knowsAbout": [
        "Dise√±o Web",
        "Dise√±o de P√°ginas Web",
        "Dise√±o de Apps Web",
        "Dise√±o de Marca",
        "Dise√±o de Logo",
        "Creaci√≥n de Im√°genes",
        "Men√∫s QR para Restaurantes",
        "Men√∫ QR",
        "Sistemas de Gesti√≥n",
        "Programaci√≥n",
        "Desarrollo Web",
        "Aplicaciones Web",
        "Automatizaciones"
      ],
      "offers": [
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Dise√±o de P√°ginas Web",
            "description": "Dise√±o profesional de p√°ginas web modernas y responsivas"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Dise√±o de Apps Web",
            "description": "Desarrollo de aplicaciones web personalizadas"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Dise√±o de Marca y Logo",
            "description": "Creaci√≥n de identidad visual y dise√±o de logos profesionales"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Men√∫s QR para Restaurantes",
            "description": "Sistemas de men√∫s digitales con c√≥digo QR para restaurantes"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Sistemas de Gesti√≥n",
            "description": "Desarrollo de sistemas de gesti√≥n personalizados para empresas"
          }
        }
      ]
    }
  })} />

  <!-- Hero Section Premium -->
  <HeroPremium 
    title="Creamos m√©todos de trabajo para tu negocio"
    subtitle="Soluciones digitales que optimizan procesos y generan resultados reales."
    primaryCta={{ text: "Solicitar diagn√≥stico", href: "#diagnostico-estrategico" }}
    secondaryCta={{ text: "Ver casos reales", href: "/proyectos-actuales" }}
    rating={{ score: "4.9/5.0", count: "250+ Rese√±as en Google" }}
  />

  <!-- Diagn√≥stico Estrat√©gico Interactivo -->
  <ConversationalDiagnosticWizard />

  <!-- Featured Projects Section - Carrusel -->
  <section id="proyectos-destacados" class="projects-section-premium">
    <div class="section-container">
      <div class="section-header">
        <h2 class="section-title">Proyectos Destacados</h2>
        <p class="section-subtitle">Soluciones reales que transforman negocios y generan resultados medibles</p>
      </div>

      <!-- Carousel para m√≥vil, Grid para escritorio -->
      <div class="projects-carousel-mobile-only" style="width: 100%; display: block; visibility: visible;">
        <ProjectsCarousel projects={carouselProjects} />
      </div>
      <div class="projects-grid-desktop-only" style="display: flex; justify-content: center; width: 100%;">
        <div class="projects-grid-wrapper">
          <button class="projects-nav-btn projects-nav-prev" id="projects-prev" aria-label="Proyectos anteriores">
            ‚Äπ
          </button>
          <div class="projects-grid" id="projects-grid">
            {carouselProjects.map((project) => (
              <a href={project.slug ? `/projects/${project.slug}` : '#'} class="project-card">
                <div class="project-image-container">
                  <img 
                    src={project.image} 
                    alt={project.title}
                    class="project-image"
                    loading="eager"
                    data-project-image={project.image}
                  />
                </div>
                <div class="project-info">
                  <span class="project-category">
                    {project.category === 'web' ? 'Web' : 
                     project.category === 'menu-qr' ? 'Men√∫ QR' : 
                     project.category === 'sistema' ? 'Sistema' : 
                     'Sistema Admin'}
                  </span>
                  <h3 class="project-title">{project.title}</h3>
                </div>
              </a>
            ))}
          </div>
          <button class="projects-nav-btn projects-nav-next" id="projects-next" aria-label="Siguientes proyectos">
            ‚Ä∫
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Success Cases Section -->
  <section class="success-cases-section">
    <div class="section-container">
      <div class="section-header">
        <h2 class="section-title">Casos de √âxito</h2>
        <p class="section-subtitle">Resultados reales de mis clientes</p>
      </div>

      {/* Grid para escritorio */}
      <div class="success-cases-grid">
        {successCases.map((caseItem) => (
          <a href={caseItem.link || '#'} style="text-decoration: none; color: inherit; display: block;">
            <SuccessCaseCard
              icon={caseItem.icon}
              title={caseItem.title}
              problem={caseItem.problem}
              solution={caseItem.solution}
              result={caseItem.result}
              gradient={caseItem.gradient}
            />
          </a>
        ))}
      </div>
      
      {/* Carrusel para m√≥vil */}
      <div class="success-cases-carousel">
        <div class="carousel-track-success" id="success-cases-track">
          {successCases.map((caseItem, index) => (
            <div class="carousel-item-success" data-index={index}>
              <a href={caseItem.link || '#'} style="text-decoration: none; color: inherit; display: block;">
                <SuccessCaseCard
                  icon={caseItem.icon}
                  title={caseItem.title}
                  problem={caseItem.problem}
                  solution={caseItem.solution}
                  result={caseItem.result}
                  gradient={caseItem.gradient}
                />
              </a>
            </div>
          ))}
        </div>
        <div class="carousel-indicators-success" id="success-cases-indicators">
          {successCases.map((_, index) => (
            <button class="carousel-indicator-success" data-index={index} aria-label={`Caso ${index + 1}`}></button>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <div class="section-container">
      <div class="section-header">
        <h2 class="section-title">Lo que dicen nuestros clientes</h2>
        <p class="section-subtitle">Testimonios reales de empresas que transformaron su negocio</p>
      </div>

      {/* Grid para escritorio */}
      <div class="testimonials-grid-premium">
        {testimonials.map((testimonial) => (
          <TestimonialCardPremium
            name={testimonial.name}
            role={testimonial.role}
            company={testimonial.company}
            text={testimonial.text}
            rating={testimonial.rating}
            avatar={testimonial.avatar}
          />
        ))}
      </div>
      
      {/* Carrusel para m√≥vil */}
      <div class="testimonials-carousel">
        <div class="carousel-track-testimonials" id="testimonials-track">
          {testimonials.map((testimonial, index) => (
            <div class="carousel-item-testimonial" data-index={index}>
              <TestimonialCardPremium
                name={testimonial.name}
                role={testimonial.role}
                company={testimonial.company}
                text={testimonial.text}
                rating={testimonial.rating}
                avatar={testimonial.avatar}
              />
            </div>
          ))}
        </div>
        <div class="carousel-indicators-testimonials" id="testimonials-indicators">
          {testimonials.map((_, index) => (
            <button class="carousel-indicator-testimonial" data-index={index} aria-label={`Testimonio ${index + 1}`}></button>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section-premium">
    <div class="section-container">
      <div class="cta-content">
        <h2 class="cta-title">¬øListo para impulsar tu negocio?</h2>
        <p class="cta-subtitle">
          Trabajemos juntos para crear soluciones digitales que generen resultados reales
        </p>
        <div class="cta-buttons">
          <a href="/contacto" class="btn-cta-primary">
            Solicitar Propuesta
          </a>
          <a href="/proyectos-actuales" class="btn-cta-secondary">
            Ver Todos los Proyectos
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Projects Section Premium */
  .projects-section-premium {
    padding: 6rem 0;
    background: var(--bg-primary);
  }
  
  /* Background de escritorio para la secci√≥n de proyectos */
  @media (min-width: 1024px) {
    .projects-section-premium {
      background-image: url('/images/background-escritorio.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: scroll;
      position: relative;
      min-height: 600px;
    }
    
    .projects-section-premium::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(15, 23, 42, 0);
      z-index: 1;
      pointer-events: none;
    }
    
    .projects-section-premium .section-container {
      position: relative;
      z-index: 10;
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      justify-content: center !important;
      width: 100% !important;
      margin: 0 auto !important;
    }
  }
  
  main {
    padding: 0;
    marging: 0;
  }
  .section-container {
    max-width: 1400px;
    margin: 0 auto !important; /* Centrar el contenedor */
    padding: 0 1rem;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important; /* Centrar contenido */
  }
  
  .section-header {
    text-align: center;
    margin-bottom: 4rem;
    position: relative;
    z-index: 10;
  }
  
  /* Reducir espacio entre t√≠tulo y carrusel en m√≥vil */
  @media (max-width: 767px) {
    .projects-section-premium .section-header {
      margin-bottom: 2rem !important;
      margin-top: 0 !important;
      padding-top: 1rem !important;
    }
    
    .success-cases-section .section-header {
      margin-bottom: 2.5rem !important;
      margin-top: 0 !important;
      padding-top: 1rem !important;
    }
    
    .section-title {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      margin-top: 0 !important;
    }
  }
  
  /* Grid de proyectos para escritorio */
  .projects-grid-desktop-only {
    display: none;
  }
  
  /* Mostrar carrusel en m√≥vil por defecto */
  .projects-carousel-mobile-only {
    display: block !important;
    visibility: visible !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    opacity: 1 !important;
    position: relative;
    z-index: 10;
  }
  
  @media (min-width: 1024px) {
    .projects-carousel-mobile-only {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
    }
    
    .projects-grid-desktop-only {
      display: flex !important; /* Cambiar a flex para centrar */
      flex-direction: column !important;
      align-items: center !important; /* Centrar horizontalmente */
      justify-content: center !important;
      visibility: visible !important;
      width: 100% !important;
      margin: 0 auto !important;
    }
    
    .projects-grid-wrapper {
      position: relative;
      max-width: 100%;
      width: 100% !important;
      margin: 0 auto !important; /* Centrar el wrapper */
      display: flex !important;
      justify-content: center !important; /* Centrar el contenido */
      align-items: center !important;
    }
    
    .projects-grid {
      display: flex;
      flex-direction: row;
      gap: 2rem;
      max-width: 100%;
      overflow-x: auto;
      justify-content: center !important; /* Centrar el grid */
      align-items: center !important;
      margin: 0 auto !important; /* Centrar el grid */
      overflow-y: hidden;
      padding-bottom: 1rem;
      scrollbar-width: thin;
      scrollbar-color: var(--color-grey-medium) transparent;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      cursor: grab;
      user-select: none;
    }
    
    .projects-grid:active {
      cursor: grabbing;
    }
    
    .projects-nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 3rem;
      height: 3rem;
      background: var(--color-white-pure);
      border: 1px solid var(--color-grey-light);
      border-radius: 50%;
      color: var(--color-graphite-dark);
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      opacity: 0.9;
    }
    
    .projects-nav-btn:hover {
      background: var(--color-graphite-dark);
      color: var(--color-white-pure);
      border-color: var(--color-graphite-dark);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      opacity: 1;
    }
    
    .projects-nav-btn:active {
      transform: translateY(-50%) scale(0.95);
    }
    
    .projects-nav-prev {
      left: -1.5rem;
    }
    
    .projects-nav-next {
      right: -1.5rem;
    }
    
    .projects-nav-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
    
    .projects-nav-btn:disabled:hover {
      background: var(--color-white-pure);
      color: var(--color-graphite-dark);
      border-color: var(--color-grey-light);
    }
    
    .projects-grid::-webkit-scrollbar {
      height: 8px;
    }
    
    .projects-grid::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .projects-grid::-webkit-scrollbar-thumb {
      background: var(--color-grey-medium);
      border-radius: 4px;
    }
    
    .projects-grid::-webkit-scrollbar-thumb:hover {
      background: var(--color-graphite-dark);
    }
    
    .project-card {
      display: block;
      text-decoration: none;
      color: inherit;
      background: #FFFFFF;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
      transition: all 0.3s ease;
      flex: 0 0 auto;
      width: 400px;
      min-width: 400px;
      height: auto;
    }
    
    .project-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }
    
    .project-image-container {
      width: 100%;
      height: 500px;
      overflow: hidden;
      background: var(--color-white-pure);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .project-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: transform 0.3s ease;
    }
    
    .project-card:hover .project-image {
      transform: scale(1.02);
    }
    
    .project-info {
      padding: 1.5rem;
      text-align: center;
    }
    
    .project-category {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      background: var(--color-grey-light);
      color: var(--color-graphite-dark);
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 500;
      margin-bottom: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.19em;
    }
    
    .project-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0;
      line-height: 1.2;
      letter-spacing: -0.01em;
      font-family: 'Libre Baskerville', serif;
    }
    
    .projects-section-premium {
      position: relative;
      overflow: visible;
    }
    
    .projects-section-premium .section-container {
      position: relative;
      z-index: 100;
      overflow: visible;
    }
    
    .projects-section-premium .section-header {
      margin-bottom: 3rem;
      z-index: 101;
      position: relative;
    }
  }
  
  /* Mostrar carrusel en m√≥vil, ocultar grid */
  @media (max-width: 1023px) {
    .projects-carousel-mobile-only {
      display: block !important;
      visibility: visible !important;
      height: auto !important;
      overflow: visible !important;
      width: 100% !important;
      margin-top: 2rem;
    }
    
    .projects-grid-desktop-only {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
    }
  }
  
  .section-title {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 1rem 0;
    letter-spacing: -0.03em;
    font-family: 'Libre Baskerville', serif; /* Misma fuente que el hero */
  }
  
  .section-subtitle {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: var(--text-muted);
    margin: 0;
  }
  
  .projects-grid-premium {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  @media (min-width: 768px) {
    .projects-grid-premium {
      grid-template-columns: repeat(2, 1fr);
      gap: 2.5rem;
    }
  }
  
  /* Success Cases Section */
  .success-cases-section {
    padding: 6rem 0;
    background: var(--bg-primary);
    background-color: var(--color-elephant-white);
    background-image: url('/images/background-hero.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    position: relative;
  }
  
  .success-cases-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(15, 23, 42, 0);
    z-index: 1;
  }
  
  .success-cases-section .section-container {
    position: relative;
    z-index: 2;
  }
  
  /* Success Cases - Grid para escritorio */
  .success-cases-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  @media (min-width: 768px) {
    .success-cases-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 2.5rem;
    }
  }
  
  /* Success Cases Carousel - Solo m√≥vil */
  .success-cases-carousel {
    display: none;
  }
  
  @media (max-width: 767px) {
    .success-cases-grid {
      display: none;
    }
    
    .success-cases-carousel {
      display: block;
      position: relative;
      max-width: 100%;
      margin: 0 auto;
      overflow: hidden;
    }
    
    .carousel-track-success {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }
    
    .carousel-item-success {
      flex: 0 0 100%;
      width: 100%;
      opacity: 0;
      transition: opacity 0.6s ease;
    }
    
    .carousel-item-success.active {
      opacity: 1;
    }
    
    .carousel-indicators-success {
      display: flex;
      justify-content: center;
      gap: 0.75rem;
      margin-top: 2rem;
    }
    
    .carousel-indicator-success {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: none;
      background: rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0;
    }
    
    .carousel-indicator-success:hover {
      background: rgba(0, 0, 0, 0.4);
      transform: scale(1.2);
    }
    
    .carousel-indicator-success.active {
      background: var(--color-graphite-dark, #2B2B2B);
      width: 32px;
      border-radius: 6px;
    }
  }
  
  /* Testimonials Section */
  .testimonials-section {
    padding: 6rem 0;
    background: var(--bg-primary);
    background-color: var(--color-elephant-white);
  }
  
  /* Testimonials - Grid para escritorio */
  .testimonials-grid-premium {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  @media (min-width: 768px) {
    .testimonials-grid-premium {
      grid-template-columns: repeat(2, 1fr);
      gap: 2.5rem;
    }
  }
  
  @media (min-width: 1024px) {
    .testimonials-grid-premium {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  /* Testimonials Carousel - Solo m√≥vil */
  .testimonials-carousel {
    display: none;
  }
  
  @media (max-width: 767px) {
    .testimonials-grid-premium {
      display: none;
    }
    
    .testimonials-carousel {
      display: block;
      position: relative;
      max-width: 100%;
      margin: 0 auto;
      overflow: hidden;
    }
    
    .carousel-track-testimonials {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }
    
    .carousel-item-testimonial {
      flex: 0 0 100%;
      width: 100%;
      opacity: 0;
      transition: opacity 0.6s ease;
    }
    
    .carousel-item-testimonial.active {
      opacity: 1;
    }
    
    .carousel-indicators-testimonials {
      display: flex;
      justify-content: center;
      gap: 0.75rem;
      margin-top: 2rem;
    }
    
    .carousel-indicator-testimonial {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: none;
      background: rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0;
    }
    
    .carousel-indicator-testimonial:hover {
      background: rgba(0, 0, 0, 0.4);
      transform: scale(1.2);
    }
    
    .carousel-indicator-testimonial.active {
      background: var(--color-graphite-dark, #2B2B2B);
      width: 32px;
      border-radius: 6px;
    }
  }
  
  /* CTA Section Premium */
  .cta-section-premium {
    padding: 8rem 0;
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
    position: relative;
    overflow: hidden;
  }
  
  .cta-section-premium::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at 50% 50%,
      rgba(88, 101, 242, 0.1) 0%,
      transparent 70%
    );
    pointer-events: none;
  }
  
  .cta-content {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }
  
  .cta-title {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 800;
    color: var(--text-primary);
    margin: 0 0 1rem 0;
    letter-spacing: -0.03em;
  }
  
  .cta-subtitle {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: var(--text-secondary);
    margin: 0 0 2.5rem 0;
    line-height: 1.6;
  }
  
  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .btn-cta-primary,
  .btn-cta-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 2.5rem;
    border-radius: var(--radius-lg);
    font-weight: 600;
    font-size: 1.125rem;
    text-decoration: none;
    transition: all var(--norm) var(--ease);
  }
  
  .btn-cta-primary {
    background: var(--grad-primary);
    color: #FFFFFF;
    box-shadow: var(--shadow-lg), var(--shadow-glow-primary);
  }
  
  .btn-cta-primary:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-xl), var(--shadow-glow-primary);
  }
  
  .btn-cta-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }
  
  .btn-cta-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-3px);
  }
  
  /* Mobile optimizations */
  @media (max-width: 768px) {
    .projects-section-premium,
    .success-cases-section,
    .testimonials-section {
      padding: 3rem 0;
    }
    
    .cta-section-premium {
      padding: 4rem 0;
    }
    
    .section-header {
      margin-top: 0 !important;
      margin-bottom: 2.5rem !important;
      padding-top: 0 !important;
      padding-bottom: 0 !important;
      position: relative;
      z-index: 10;
    }
    
    .projects-section-premium .section-header {
      margin-bottom: 2rem !important;
      margin-top: 0 !important;
    }
    
    .success-cases-section .section-header {
      margin-bottom: 2.5rem !important;
      margin-top: 0 !important;
    }
    
    .testimonials-section .section-header {
      margin-bottom: 2.5rem !important;
      margin-top: 0 !important;
    }
    
    .section-title {
      margin-top: 0 !important;
      margin-bottom: 0.75rem !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 10 !important;
    }
    
    .section-subtitle {
      margin-top: 0 !important;
      margin-bottom: 0 !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
    
    .section-container {
      padding-top: 1rem !important;
    }
    
    .projects-section-premium .section-container,
    .success-cases-section .section-container,
    .testimonials-section .section-container {
      padding-top: 1rem !important;
      overflow: visible !important;
    }
    
    /* Asegurar que el carrusel sea visible en m√≥vil */
    .success-cases-carousel,
    .testimonials-carousel {
      display: block !important;
    }
    
    /* Ocultar grid en m√≥vil */
    .success-cases-grid,
    .testimonials-grid-premium {
      display: none !important;
    }
  }
</style>

<script>
  // Smooth scroll animations
  document.addEventListener('DOMContentLoaded', function() {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && entry.target instanceof HTMLElement) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);
    
    // Observe all cards
    document.querySelectorAll('.project-card-premium, .success-case-card, .testimonial-card-premium').forEach(card => {
      const htmlCard = card as HTMLElement;
      htmlCard.style.opacity = '0';
      htmlCard.style.transform = 'translateY(20px)';
      htmlCard.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(card);
    });
    
    // Funcionalidad de scroll horizontal para proyectos en escritorio
    const projectsGrid = document.getElementById('projects-grid') as HTMLElement | null;
    const projectsPrev = document.getElementById('projects-prev') as HTMLButtonElement | null;
    const projectsNext = document.getElementById('projects-next') as HTMLButtonElement | null;
    
    if (projectsGrid && projectsPrev && projectsNext) {
      const updateNavButtons = () => {
        const { scrollLeft, scrollWidth, clientWidth } = projectsGrid;
        const isAtStart = scrollLeft <= 0;
        const isAtEnd = scrollLeft >= scrollWidth - clientWidth - 10; // 10px de margen
        
        projectsPrev.disabled = isAtStart;
        projectsNext.disabled = isAtEnd;
      };
      
      // Scroll con botones
      projectsPrev.addEventListener('click', () => {
        projectsGrid.scrollBy({ left: -450, behavior: 'smooth' });
      });
      
      projectsNext.addEventListener('click', () => {
        projectsGrid.scrollBy({ left: 450, behavior: 'smooth' });
      });
      
      // Actualizar botones al hacer scroll
      projectsGrid.addEventListener('scroll', updateNavButtons);
      
      // Actualizar botones al redimensionar
      window.addEventListener('resize', updateNavButtons);
      
      // Inicializar estado de botones
      updateNavButtons();
      
      // Scroll horizontal con mouse drag
      let isDown = false;
      let startX: number = 0;
      let scrollLeft: number = 0;
      
      projectsGrid.addEventListener('mousedown', (e) => {
        isDown = true;
        projectsGrid.style.cursor = 'grabbing';
        startX = e.pageX - projectsGrid.offsetLeft;
        scrollLeft = projectsGrid.scrollLeft;
      });
      
      projectsGrid.addEventListener('mouseleave', () => {
        isDown = false;
        projectsGrid.style.cursor = 'grab';
      });
      
      projectsGrid.addEventListener('mouseup', () => {
        isDown = false;
        projectsGrid.style.cursor = 'grab';
      });
      
      projectsGrid.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - projectsGrid.offsetLeft;
        const walk = (x - startX) * 2; // Velocidad del scroll
        projectsGrid.scrollLeft = scrollLeft - walk;
      });
      
      // Cursor grab cuando se pasa el mouse
      projectsGrid.style.cursor = 'grab';
      
      // Manejar errores de carga de im√°genes en el grid de escritorio
      const projectImages = document.querySelectorAll('.project-image');
      projectImages.forEach((imgElement) => {
        const img = imgElement as HTMLImageElement;
        img.addEventListener('error', function() {
          console.error('Error loading image:', img.getAttribute('src'));
          img.style.display = 'none';
          const container = img.closest('.project-image-container') as HTMLElement;
          if (container) {
            container.style.background = 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)';
            container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.875rem;">Imagen no disponible</div>';
          }
        });
      });
    }
    
    // Success Cases Carousel Auto Slide - Solo m√≥vil
    const successTrack = document.getElementById('success-cases-track');
    const successIndicators = document.querySelectorAll('.carousel-indicator-success');
    const successItems = document.querySelectorAll('.carousel-item-success');
    let successCurrentIndex = 0;
    let successAutoSlideInterval: number | null = null;
    
    // Solo inicializar si estamos en m√≥vil y el elemento existe
    if (successTrack && successItems.length > 0 && window.innerWidth <= 767) {
      function updateSuccessCarousel() {
        successItems.forEach((item, index) => {
          item.classList.toggle('active', index === successCurrentIndex);
        });
        
        const translateX = -successCurrentIndex * 100;
        successTrack.style.transform = `translateX(${translateX}%)`;
        
        successIndicators.forEach((indicator, index) => {
          indicator.classList.toggle('active', index === successCurrentIndex);
        });
      }
      
      function nextSuccessSlide() {
        successCurrentIndex = (successCurrentIndex + 1) % successItems.length;
        updateSuccessCarousel();
      }
      
      function goToSuccessSlide(index: number) {
        successCurrentIndex = index;
        updateSuccessCarousel();
        resetSuccessAutoSlide();
      }
      
      function resetSuccessAutoSlide() {
        if (successAutoSlideInterval) {
          clearInterval(successAutoSlideInterval);
        }
        successAutoSlideInterval = window.setInterval(nextSuccessSlide, 5000);
      }
      
      // Click en indicadores
      successIndicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => goToSuccessSlide(index));
      });
      
      // Pausar auto slide al hacer hover
      const successCarousel = successTrack.closest('.success-cases-carousel');
      if (successCarousel) {
        successCarousel.addEventListener('mouseenter', () => {
          if (successAutoSlideInterval) {
            clearInterval(successAutoSlideInterval);
          }
        });
        successCarousel.addEventListener('mouseleave', resetSuccessAutoSlide);
      }
      
      // Inicializar
      updateSuccessCarousel();
      resetSuccessAutoSlide();
    }
    
    // Testimonials Carousel Auto Slide - Solo m√≥vil
    const testimonialsTrack = document.getElementById('testimonials-track');
    const testimonialsIndicators = document.querySelectorAll('.carousel-indicator-testimonial');
    const testimonialsItems = document.querySelectorAll('.carousel-item-testimonial');
    let testimonialsCurrentIndex = 0;
    let testimonialsAutoSlideInterval: number | null = null;
    
    // Solo inicializar si estamos en m√≥vil y el elemento existe
    if (testimonialsTrack && testimonialsItems.length > 0 && window.innerWidth <= 767) {
      function updateTestimonialsCarousel() {
        testimonialsItems.forEach((item, index) => {
          item.classList.toggle('active', index === testimonialsCurrentIndex);
        });
        
        const translateX = -testimonialsCurrentIndex * 100;
        testimonialsTrack.style.transform = `translateX(${translateX}%)`;
        
        testimonialsIndicators.forEach((indicator, index) => {
          indicator.classList.toggle('active', index === testimonialsCurrentIndex);
        });
      }
      
      function nextTestimonialsSlide() {
        testimonialsCurrentIndex = (testimonialsCurrentIndex + 1) % testimonialsItems.length;
        updateTestimonialsCarousel();
      }
      
      function goToTestimonialsSlide(index: number) {
        testimonialsCurrentIndex = index;
        updateTestimonialsCarousel();
        resetTestimonialsAutoSlide();
      }
      
      function resetTestimonialsAutoSlide() {
        if (testimonialsAutoSlideInterval) {
          clearInterval(testimonialsAutoSlideInterval);
        }
        testimonialsAutoSlideInterval = window.setInterval(nextTestimonialsSlide, 5000);
      }
      
      // Click en indicadores
      testimonialsIndicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => goToTestimonialsSlide(index));
      });
      
      // Pausar auto slide al hacer hover
      const testimonialsCarousel = testimonialsTrack.closest('.testimonials-carousel');
      if (testimonialsCarousel) {
        testimonialsCarousel.addEventListener('mouseenter', () => {
          if (testimonialsAutoSlideInterval) {
            clearInterval(testimonialsAutoSlideInterval);
          }
        });
        testimonialsCarousel.addEventListener('mouseleave', resetTestimonialsAutoSlide);
      }
      
      // Inicializar
      updateTestimonialsCarousel();
      resetTestimonialsAutoSlide();
    }
  });
</script>
